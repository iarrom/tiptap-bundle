import O, { forwardRef as le, useEffect as F, useState as k, useMemo as H, useCallback as B, useRef as I } from "react";
import { createStyles as K, Group as Ce, Menu as S, Button as et, Stack as Te, Text as ae, ActionIcon as tt, Box as nt, Container as Qt, TextInput as en, Badge as tn, MantineProvider as nn } from "@mantine/core";
import { EditorContent as rn, NodeViewContent as on, ReactNodeViewRenderer as an, NodeViewWrapper as ln } from "@tiptap/react";
import U from "@tippyjs/react";
import { sticky as cn } from "tippy.js";
import * as Ge from "lodash";
import { getDefaultSlashMenuItems as sn, defaultBlockSchema as rt, BlockNoteEditor as dn, blockStyles as xe, createTipTapBlock as un, propsToAttributes as fn, parse as gn, render as hn, camelToDataKebab as vn } from "@blocknote/core";
var be = { exports: {} }, Z = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Je;
function mn() {
  if (Je)
    return Z;
  Je = 1;
  var e = O, r = Symbol.for("react.element"), o = Symbol.for("react.fragment"), a = Object.prototype.hasOwnProperty, c = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, l = { key: !0, ref: !0, __self: !0, __source: !0 };
  function d(u, g, T) {
    var h, j = {}, p = null, D = null;
    T !== void 0 && (p = "" + T), g.key !== void 0 && (p = "" + g.key), g.ref !== void 0 && (D = g.ref);
    for (h in g)
      a.call(g, h) && !l.hasOwnProperty(h) && (j[h] = g[h]);
    if (u && u.defaultProps)
      for (h in g = u.defaultProps, g)
        j[h] === void 0 && (j[h] = g[h]);
    return { $$typeof: r, type: u, key: p, ref: D, props: j, _owner: c.current };
  }
  return Z.Fragment = o, Z.jsx = d, Z.jsxs = d, Z;
}
var Q = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Xe;
function xn() {
  return Xe || (Xe = 1, process.env.NODE_ENV !== "production" && function() {
    var e = O, r = Symbol.for("react.element"), o = Symbol.for("react.portal"), a = Symbol.for("react.fragment"), c = Symbol.for("react.strict_mode"), l = Symbol.for("react.profiler"), d = Symbol.for("react.provider"), u = Symbol.for("react.context"), g = Symbol.for("react.forward_ref"), T = Symbol.for("react.suspense"), h = Symbol.for("react.suspense_list"), j = Symbol.for("react.memo"), p = Symbol.for("react.lazy"), D = Symbol.for("react.offscreen"), Se = Symbol.iterator, bt = "@@iterator";
    function yt(t) {
      if (t === null || typeof t != "object")
        return null;
      var i = Se && t[Se] || t[bt];
      return typeof i == "function" ? i : null;
    }
    var W = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function R(t) {
      {
        for (var i = arguments.length, s = new Array(i > 1 ? i - 1 : 0), f = 1; f < i; f++)
          s[f - 1] = arguments[f];
        kt("error", t, s);
      }
    }
    function kt(t, i, s) {
      {
        var f = W.ReactDebugCurrentFrame, b = f.getStackAddendum();
        b !== "" && (i += "%s", s = s.concat([b]));
        var y = s.map(function(m) {
          return String(m);
        });
        y.unshift("Warning: " + i), Function.prototype.apply.call(console[t], console, y);
      }
    }
    var Ct = !1, Tt = !1, jt = !1, St = !1, Et = !1, Ee;
    Ee = Symbol.for("react.module.reference");
    function Mt(t) {
      return !!(typeof t == "string" || typeof t == "function" || t === a || t === l || Et || t === c || t === T || t === h || St || t === D || Ct || Tt || jt || typeof t == "object" && t !== null && (t.$$typeof === p || t.$$typeof === j || t.$$typeof === d || t.$$typeof === u || t.$$typeof === g || // This needs to include all possible module reference object
      // types supported by any Flight configuration anywhere since
      // we don't know which Flight build this will end up being used
      // with.
      t.$$typeof === Ee || t.getModuleId !== void 0));
    }
    function Rt(t, i, s) {
      var f = t.displayName;
      if (f)
        return f;
      var b = i.displayName || i.name || "";
      return b !== "" ? s + "(" + b + ")" : s;
    }
    function Me(t) {
      return t.displayName || "Context";
    }
    function A(t) {
      if (t == null)
        return null;
      if (typeof t.tag == "number" && R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof t == "function")
        return t.displayName || t.name || null;
      if (typeof t == "string")
        return t;
      switch (t) {
        case a:
          return "Fragment";
        case o:
          return "Portal";
        case l:
          return "Profiler";
        case c:
          return "StrictMode";
        case T:
          return "Suspense";
        case h:
          return "SuspenseList";
      }
      if (typeof t == "object")
        switch (t.$$typeof) {
          case u:
            var i = t;
            return Me(i) + ".Consumer";
          case d:
            var s = t;
            return Me(s._context) + ".Provider";
          case g:
            return Rt(t, t.render, "ForwardRef");
          case j:
            var f = t.displayName || null;
            return f !== null ? f : A(t.type) || "Memo";
          case p: {
            var b = t, y = b._payload, m = b._init;
            try {
              return A(m(y));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var N = Object.assign, J = 0, Re, we, pe, ze, He, _e, Be;
    function Ie() {
    }
    Ie.__reactDisabledLog = !0;
    function wt() {
      {
        if (J === 0) {
          Re = console.log, we = console.info, pe = console.warn, ze = console.error, He = console.group, _e = console.groupCollapsed, Be = console.groupEnd;
          var t = {
            configurable: !0,
            enumerable: !0,
            value: Ie,
            writable: !0
          };
          Object.defineProperties(console, {
            info: t,
            log: t,
            warn: t,
            error: t,
            group: t,
            groupCollapsed: t,
            groupEnd: t
          });
        }
        J++;
      }
    }
    function pt() {
      {
        if (J--, J === 0) {
          var t = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: N({}, t, {
              value: Re
            }),
            info: N({}, t, {
              value: we
            }),
            warn: N({}, t, {
              value: pe
            }),
            error: N({}, t, {
              value: ze
            }),
            group: N({}, t, {
              value: He
            }),
            groupCollapsed: N({}, t, {
              value: _e
            }),
            groupEnd: N({}, t, {
              value: Be
            })
          });
        }
        J < 0 && R("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var ce = W.ReactCurrentDispatcher, se;
    function ee(t, i, s) {
      {
        if (se === void 0)
          try {
            throw Error();
          } catch (b) {
            var f = b.stack.trim().match(/\n( *(at )?)/);
            se = f && f[1] || "";
          }
        return `
` + se + t;
      }
    }
    var de = !1, te;
    {
      var zt = typeof WeakMap == "function" ? WeakMap : Map;
      te = new zt();
    }
    function Ae(t, i) {
      if (!t || de)
        return "";
      {
        var s = te.get(t);
        if (s !== void 0)
          return s;
      }
      var f;
      de = !0;
      var b = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var y;
      y = ce.current, ce.current = null, wt();
      try {
        if (i) {
          var m = function() {
            throw Error();
          };
          if (Object.defineProperty(m.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(m, []);
            } catch (P) {
              f = P;
            }
            Reflect.construct(t, [], m);
          } else {
            try {
              m.call();
            } catch (P) {
              f = P;
            }
            t.call(m.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (P) {
            f = P;
          }
          t();
        }
      } catch (P) {
        if (P && f && typeof P.stack == "string") {
          for (var v = P.stack.split(`
`), w = f.stack.split(`
`), E = v.length - 1, M = w.length - 1; E >= 1 && M >= 0 && v[E] !== w[M]; )
            M--;
          for (; E >= 1 && M >= 0; E--, M--)
            if (v[E] !== w[M]) {
              if (E !== 1 || M !== 1)
                do
                  if (E--, M--, M < 0 || v[E] !== w[M]) {
                    var z = `
` + v[E].replace(" at new ", " at ");
                    return t.displayName && z.includes("<anonymous>") && (z = z.replace("<anonymous>", t.displayName)), typeof t == "function" && te.set(t, z), z;
                  }
                while (E >= 1 && M >= 0);
              break;
            }
        }
      } finally {
        de = !1, ce.current = y, pt(), Error.prepareStackTrace = b;
      }
      var q = t ? t.displayName || t.name : "", Ke = q ? ee(q) : "";
      return typeof t == "function" && te.set(t, Ke), Ke;
    }
    function Ht(t, i, s) {
      return Ae(t, !1);
    }
    function _t(t) {
      var i = t.prototype;
      return !!(i && i.isReactComponent);
    }
    function ne(t, i, s) {
      if (t == null)
        return "";
      if (typeof t == "function")
        return Ae(t, _t(t));
      if (typeof t == "string")
        return ee(t);
      switch (t) {
        case T:
          return ee("Suspense");
        case h:
          return ee("SuspenseList");
      }
      if (typeof t == "object")
        switch (t.$$typeof) {
          case g:
            return Ht(t.render);
          case j:
            return ne(t.type, i, s);
          case p: {
            var f = t, b = f._payload, y = f._init;
            try {
              return ne(y(b), i, s);
            } catch {
            }
          }
        }
      return "";
    }
    var re = Object.prototype.hasOwnProperty, Pe = {}, Oe = W.ReactDebugCurrentFrame;
    function oe(t) {
      if (t) {
        var i = t._owner, s = ne(t.type, t._source, i ? i.type : null);
        Oe.setExtraStackFrame(s);
      } else
        Oe.setExtraStackFrame(null);
    }
    function Bt(t, i, s, f, b) {
      {
        var y = Function.call.bind(re);
        for (var m in t)
          if (y(t, m)) {
            var v = void 0;
            try {
              if (typeof t[m] != "function") {
                var w = Error((f || "React class") + ": " + s + " type `" + m + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof t[m] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw w.name = "Invariant Violation", w;
              }
              v = t[m](i, m, f, s, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (E) {
              v = E;
            }
            v && !(v instanceof Error) && (oe(b), R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", f || "React class", s, m, typeof v), oe(null)), v instanceof Error && !(v.message in Pe) && (Pe[v.message] = !0, oe(b), R("Failed %s type: %s", s, v.message), oe(null));
          }
      }
    }
    var It = Array.isArray;
    function ue(t) {
      return It(t);
    }
    function At(t) {
      {
        var i = typeof Symbol == "function" && Symbol.toStringTag, s = i && t[Symbol.toStringTag] || t.constructor.name || "Object";
        return s;
      }
    }
    function Pt(t) {
      try {
        return Le(t), !1;
      } catch {
        return !0;
      }
    }
    function Le(t) {
      return "" + t;
    }
    function Fe(t) {
      if (Pt(t))
        return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", At(t)), Le(t);
    }
    var X = W.ReactCurrentOwner, Ot = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, De, Ve, fe;
    fe = {};
    function Lt(t) {
      if (re.call(t, "ref")) {
        var i = Object.getOwnPropertyDescriptor(t, "ref").get;
        if (i && i.isReactWarning)
          return !1;
      }
      return t.ref !== void 0;
    }
    function Ft(t) {
      if (re.call(t, "key")) {
        var i = Object.getOwnPropertyDescriptor(t, "key").get;
        if (i && i.isReactWarning)
          return !1;
      }
      return t.key !== void 0;
    }
    function Dt(t, i) {
      if (typeof t.ref == "string" && X.current && i && X.current.stateNode !== i) {
        var s = A(X.current.type);
        fe[s] || (R('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', A(X.current.type), t.ref), fe[s] = !0);
      }
    }
    function Vt(t, i) {
      {
        var s = function() {
          De || (De = !0, R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", i));
        };
        s.isReactWarning = !0, Object.defineProperty(t, "key", {
          get: s,
          configurable: !0
        });
      }
    }
    function Nt(t, i) {
      {
        var s = function() {
          Ve || (Ve = !0, R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", i));
        };
        s.isReactWarning = !0, Object.defineProperty(t, "ref", {
          get: s,
          configurable: !0
        });
      }
    }
    var Ut = function(t, i, s, f, b, y, m) {
      var v = {
        // This tag allows us to uniquely identify this as a React Element
        $$typeof: r,
        // Built-in properties that belong on the element
        type: t,
        key: i,
        ref: s,
        props: m,
        // Record the component responsible for creating this element.
        _owner: y
      };
      return v._store = {}, Object.defineProperty(v._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(v, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: f
      }), Object.defineProperty(v, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: b
      }), Object.freeze && (Object.freeze(v.props), Object.freeze(v)), v;
    };
    function $t(t, i, s, f, b) {
      {
        var y, m = {}, v = null, w = null;
        s !== void 0 && (Fe(s), v = "" + s), Ft(i) && (Fe(i.key), v = "" + i.key), Lt(i) && (w = i.ref, Dt(i, b));
        for (y in i)
          re.call(i, y) && !Ot.hasOwnProperty(y) && (m[y] = i[y]);
        if (t && t.defaultProps) {
          var E = t.defaultProps;
          for (y in E)
            m[y] === void 0 && (m[y] = E[y]);
        }
        if (v || w) {
          var M = typeof t == "function" ? t.displayName || t.name || "Unknown" : t;
          v && Vt(m, M), w && Nt(m, M);
        }
        return Ut(t, v, w, b, f, X.current, m);
      }
    }
    var ge = W.ReactCurrentOwner, Ne = W.ReactDebugCurrentFrame;
    function Y(t) {
      if (t) {
        var i = t._owner, s = ne(t.type, t._source, i ? i.type : null);
        Ne.setExtraStackFrame(s);
      } else
        Ne.setExtraStackFrame(null);
    }
    var he;
    he = !1;
    function ve(t) {
      return typeof t == "object" && t !== null && t.$$typeof === r;
    }
    function Ue() {
      {
        if (ge.current) {
          var t = A(ge.current.type);
          if (t)
            return `

Check the render method of \`` + t + "`.";
        }
        return "";
      }
    }
    function Wt(t) {
      {
        if (t !== void 0) {
          var i = t.fileName.replace(/^.*[\\\/]/, ""), s = t.lineNumber;
          return `

Check your code at ` + i + ":" + s + ".";
        }
        return "";
      }
    }
    var $e = {};
    function Yt(t) {
      {
        var i = Ue();
        if (!i) {
          var s = typeof t == "string" ? t : t.displayName || t.name;
          s && (i = `

Check the top-level render call using <` + s + ">.");
        }
        return i;
      }
    }
    function We(t, i) {
      {
        if (!t._store || t._store.validated || t.key != null)
          return;
        t._store.validated = !0;
        var s = Yt(i);
        if ($e[s])
          return;
        $e[s] = !0;
        var f = "";
        t && t._owner && t._owner !== ge.current && (f = " It was passed a child from " + A(t._owner.type) + "."), Y(t), R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', s, f), Y(null);
      }
    }
    function Ye(t, i) {
      {
        if (typeof t != "object")
          return;
        if (ue(t))
          for (var s = 0; s < t.length; s++) {
            var f = t[s];
            ve(f) && We(f, i);
          }
        else if (ve(t))
          t._store && (t._store.validated = !0);
        else if (t) {
          var b = yt(t);
          if (typeof b == "function" && b !== t.entries)
            for (var y = b.call(t), m; !(m = y.next()).done; )
              ve(m.value) && We(m.value, i);
        }
      }
    }
    function qt(t) {
      {
        var i = t.type;
        if (i == null || typeof i == "string")
          return;
        var s;
        if (typeof i == "function")
          s = i.propTypes;
        else if (typeof i == "object" && (i.$$typeof === g || // Note: Memo only checks outer props here.
        // Inner props are checked in the reconciler.
        i.$$typeof === j))
          s = i.propTypes;
        else
          return;
        if (s) {
          var f = A(i);
          Bt(s, t.props, "prop", f, t);
        } else if (i.PropTypes !== void 0 && !he) {
          he = !0;
          var b = A(i);
          R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", b || "Unknown");
        }
        typeof i.getDefaultProps == "function" && !i.getDefaultProps.isReactClassApproved && R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function Kt(t) {
      {
        for (var i = Object.keys(t.props), s = 0; s < i.length; s++) {
          var f = i[s];
          if (f !== "children" && f !== "key") {
            Y(t), R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", f), Y(null);
            break;
          }
        }
        t.ref !== null && (Y(t), R("Invalid attribute `ref` supplied to `React.Fragment`."), Y(null));
      }
    }
    function qe(t, i, s, f, b, y) {
      {
        var m = Mt(t);
        if (!m) {
          var v = "";
          (t === void 0 || typeof t == "object" && t !== null && Object.keys(t).length === 0) && (v += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var w = Wt(b);
          w ? v += w : v += Ue();
          var E;
          t === null ? E = "null" : ue(t) ? E = "array" : t !== void 0 && t.$$typeof === r ? (E = "<" + (A(t.type) || "Unknown") + " />", v = " Did you accidentally export a JSX literal instead of a component?") : E = typeof t, R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", E, v);
        }
        var M = $t(t, i, s, b, y);
        if (M == null)
          return M;
        if (m) {
          var z = i.children;
          if (z !== void 0)
            if (f)
              if (ue(z)) {
                for (var q = 0; q < z.length; q++)
                  Ye(z[q], t);
                Object.freeze && Object.freeze(z);
              } else
                R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              Ye(z, t);
        }
        return t === a ? Kt(M) : qt(M), M;
      }
    }
    function Gt(t, i, s) {
      return qe(t, i, s, !0);
    }
    function Jt(t, i, s) {
      return qe(t, i, s, !1);
    }
    var Xt = Jt, Zt = Gt;
    Q.Fragment = a, Q.jsx = Xt, Q.jsxs = Zt;
  }()), Q;
}
process.env.NODE_ENV === "production" ? be.exports = mn() : be.exports = xn();
var n = be.exports;
const x = [
  "#FFFFFF",
  "#EFEFEF",
  "#CFCFCF",
  "#AFAFAF",
  "#7F7F7F",
  "#3F3F3F",
  "#1F1F1F",
  "#161616",
  "#0F0F0F",
  "#000000"
], bn = (e = !1) => {
  const r = `0px 4px 8px ${e ? x[8] : x[2]}, 0px 0px 1px ${e ? x[6] : x[1]}`, o = `1px solid ${e ? x[7] : x[1]}`, a = e ? x[4] : x[2], c = e ? x[6] : x[0], l = e ? x[7] : x[1], d = e ? x[2] : x[5], u = x[4], g = e ? x[7] : x[1], T = e ? x[2] : x[5], h = e ? x[8] : x[5], j = e ? x[2] : x[0], p = e ? x[7] : x[1], D = e ? x[5] : x[3];
  return {
    activeStyles: {
      // Removes button press effect.
      transform: "none"
    },
    colorScheme: e ? "dark" : "light",
    colors: {
      scheme: x,
      dark: x,
      textColors: [
        // primaryText,
        x[6],
        "#9b9a97",
        "#64473a",
        "#e03e3e",
        "#d9730d",
        "#dfab01",
        "#4d6461",
        "#0b6e99",
        "#6940a5",
        "#ad1a72"
      ],
      backgroundColors: [
        // primaryBackground,
        x[0],
        "#ebeced",
        "#e9e5e3",
        "#fbe4e4",
        "#f6e9d9",
        "#fbf3db",
        "#ddedea",
        "#ddebf1",
        "#eae4f2",
        "#f4dfeb"
      ]
    },
    components: {
      // Block Side Menu items
      ActionIcon: {
        styles: () => ({
          root: {
            color: a
          }
        })
      },
      // Slash Menu, Formatting Toolbar dropdown, color picker dropdown
      Menu: {
        styles: () => ({
          dropdown: {
            backgroundColor: c,
            border: o,
            borderRadius: "6px",
            boxShadow: r,
            color: d,
            padding: "2px",
            ".mantine-Menu-item": {
              backgroundColor: c,
              border: "none",
              color: d
            },
            ".mantine-Menu-item[data-hovered]": {
              backgroundColor: g,
              border: "none",
              color: T
            }
          }
        })
      },
      DragHandleMenu: {
        styles: () => ({
          root: {
            ".mantine-Menu-item": {
              fontSize: "12px",
              height: "30px"
            }
          }
        })
      },
      EditHyperlinkMenu: {
        styles: () => ({
          root: {
            backgroundColor: c,
            border: o,
            borderRadius: "6px",
            boxShadow: r,
            color: d,
            gap: "4px",
            minWidth: "145px",
            padding: "2px",
            // Row
            ".mantine-Group-root": {
              flexWrap: "nowrap",
              gap: "8px",
              paddingInline: "6px",
              // Row icon
              ".mantine-Container-root": {
                color: d,
                display: "flex",
                justifyContent: "center",
                padding: 0,
                width: "fit-content"
              },
              // Row input field
              ".mantine-TextInput-root": {
                width: "300px",
                ".mantine-TextInput-wrapper": {
                  ".mantine-TextInput-input": {
                    border: "none",
                    color: d,
                    fontSize: "12px",
                    padding: 0
                  }
                }
              }
            }
          }
        })
      },
      Toolbar: {
        styles: () => ({
          root: {
            backgroundColor: c,
            boxShadow: r,
            border: o,
            borderRadius: "6px",
            flexWrap: "nowrap",
            gap: "2px",
            padding: "2px",
            width: "fit-content",
            // Button (including dropdown target)
            ".mantine-UnstyledButton-root": {
              backgroundColor: c,
              border: "none",
              borderRadius: "4px",
              color: d
            },
            // Hovered button
            ".mantine-UnstyledButton-root:hover": {
              backgroundColor: g,
              border: "none",
              color: T
            },
            // Selected button
            ".mantine-UnstyledButton-root[data-selected]": {
              backgroundColor: h,
              border: "none",
              color: j
            },
            // Disabled button
            ".mantine-UnstyledButton-root[data-disabled]": {
              backgroundColor: p,
              border: "none",
              color: D
            },
            // Dropdown
            ".mantine-Menu-dropdown": {
              // Dropdown item
              ".mantine-Menu-item": {
                fontSize: "12px",
                height: "30px",
                ".mantine-Menu-itemRightSection": {
                  paddingLeft: "5px"
                }
              },
              ".mantine-Menu-item:hover": {
                backgroundColor: g
              }
            }
          }
        })
      },
      Tooltip: {
        styles: () => ({
          root: {
            backgroundColor: c,
            border: o,
            borderRadius: "6px",
            boxShadow: r,
            color: d,
            padding: "4px 10px",
            textAlign: "center",
            "div ~ div": {
              color: u
            }
          }
        })
      },
      SlashMenu: {
        styles: () => ({
          root: {
            position: "relative",
            ".mantine-Menu-item": {
              // Icon
              ".mantine-Menu-itemIcon": {
                backgroundColor: l,
                borderRadius: "4px",
                color: d,
                padding: "8px"
              },
              // Text
              ".mantine-Menu-itemLabel": {
                paddingRight: "16px",
                ".mantine-Stack-root": {
                  gap: "0"
                }
              },
              // Badge (keyboard shortcut)
              ".mantine-Menu-itemRightSection": {
                ".mantine-Badge-root": {
                  backgroundColor: l,
                  color: d
                }
              }
            }
          }
        })
      }
    },
    fontFamily: "Inter",
    other: {
      colors: [
        "default",
        "gray",
        "brown",
        "red",
        "orange",
        "yellow",
        "green",
        "blue",
        "purple",
        "pink"
      ]
    },
    primaryColor: "scheme"
  };
}, ot = le((e, r) => {
  const { classes: o } = K({ root: {} })(void 0, {
    name: "Toolbar"
  });
  return /* @__PURE__ */ n.jsx(
    Ce,
    {
      className: e.className ? `${o.root} ${e.className}` : o.root,
      ref: r,
      ...e,
      children: e.children
    }
  );
});
var it = {
  color: void 0,
  size: void 0,
  className: void 0,
  style: void 0,
  attr: void 0
}, Ze = O.createContext && O.createContext(it), V = globalThis && globalThis.__assign || function() {
  return V = Object.assign || function(e) {
    for (var r, o = 1, a = arguments.length; o < a; o++) {
      r = arguments[o];
      for (var c in r)
        Object.prototype.hasOwnProperty.call(r, c) && (e[c] = r[c]);
    }
    return e;
  }, V.apply(this, arguments);
}, yn = globalThis && globalThis.__rest || function(e, r) {
  var o = {};
  for (var a in e)
    Object.prototype.hasOwnProperty.call(e, a) && r.indexOf(a) < 0 && (o[a] = e[a]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var c = 0, a = Object.getOwnPropertySymbols(e); c < a.length; c++)
      r.indexOf(a[c]) < 0 && Object.prototype.propertyIsEnumerable.call(e, a[c]) && (o[a[c]] = e[a[c]]);
  return o;
};
function at(e) {
  return e && e.map(function(r, o) {
    return O.createElement(r.tag, V({
      key: o
    }, r.attr), at(r.child));
  });
}
function C(e) {
  return function(r) {
    return O.createElement(kn, V({
      attr: V({}, e.attr)
    }, r), at(e.child));
  };
}
function kn(e) {
  var r = function(o) {
    var a = e.attr, c = e.size, l = e.title, d = yn(e, ["attr", "size", "title"]), u = c || o.size || "1em", g;
    return o.className && (g = o.className), e.className && (g = (g ? g + " " : "") + e.className), O.createElement("svg", V({
      stroke: "currentColor",
      fill: "currentColor",
      strokeWidth: "0"
    }, o.attr, a, d, {
      className: g,
      style: V(V({
        color: e.color || o.color
      }, o.style), e.style),
      height: u,
      width: u,
      xmlns: "http://www.w3.org/2000/svg"
    }), l && O.createElement("title", null, l), e.children);
  };
  return Ze !== void 0 ? O.createElement(Ze.Consumer, null, function(o) {
    return r(o);
  }) : r(it);
}
function Cn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M23 12l-7.071 7.071-1.414-1.414L20.172 12l-5.657-5.657 1.414-1.414L23 12zM3.828 12l5.657 5.657-1.414 1.414L1 12l7.071-7.071 1.414 1.414L3.828 12z" } }] }] })(e);
}
function Tn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z" } }] }] })(e);
}
function jn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm0 15h18v2H3v-2zm0-5h18v2H3v-2zm0-5h18v2H3V9z" } }] }] })(e);
}
function Sn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z" } }] }] })(e);
}
function En(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z" } }] }] })(e);
}
function Mn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z" } }] }] })(e);
}
function lt(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0H24V24H0z" } }, { tag: "path", attr: { d: "M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z" } }] }] })(e);
}
function ct(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0H24V24H0z" } }, { tag: "path", attr: { d: "M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z" } }] }] })(e);
}
function st(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0H24V24H0z" } }, { tag: "path", attr: { d: "M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z" } }] }] })(e);
}
function Rn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm0 15h18v2H3v-2zm8-5h10v2H11v-2zm0-5h10v2H11V9zm-8 3.5L7 9v7l-4-3.5z" } }] }] })(e);
}
function wn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M3 4h18v2H3V4zm0 15h18v2H3v-2zm8-5h10v2H11v-2zm0-5h10v2H11V9zm-4 3.5L3 16V9l4 3.5z" } }] }] })(e);
}
function pn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z" } }] }] })(e);
}
function zn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M17 17h5v2h-3v3h-2v-5zM7 7H2V5h3V2h2v5zm11.364 8.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z" } }] }] })(e);
}
function dt(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z" } }] }] })(e);
}
function ut(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z" } }] }] })(e);
}
function ft(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z" } }] }] })(e);
}
function Hn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z" } }] }] })(e);
}
function je(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M13 6v15h-2V6H5V4h14v2z" } }] }] })(e);
}
function _n(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z" } }] }] })(e);
}
function Bn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "g", attr: {}, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" } }, { tag: "path", attr: { d: "M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v9l-3.794-3.793-5.999 6-1.414-1.414 5.999-6L12 3h9z" } }] }] })(e);
}
function ye(e) {
  return C({ tag: "svg", attr: { version: "1.2", baseProfile: "tiny", viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { d: "M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z" } }] })(e);
}
function In(e) {
  const r = e.icon;
  return /* @__PURE__ */ n.jsx(
    S.Item,
    {
      onClick: e.onClick,
      icon: r && /* @__PURE__ */ n.jsx(r, { size: 16 }),
      rightSection: e.isSelected ? /* @__PURE__ */ n.jsx(ye, { size: 16 }) : (
        // Ensures space for tick even if item isn't currently selected.
        /* @__PURE__ */ n.jsx("div", { style: { width: "16px", padding: "0" } })
      ),
      disabled: e.isDisabled,
      children: e.text
    },
    e.text
  );
}
function An(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 20 20", fill: "currentColor", "aria-hidden": "true" }, child: [{ tag: "path", attr: { fillRule: "evenodd", d: "M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z", clipRule: "evenodd" } }] })(e);
}
function Pn(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 20 20", fill: "currentColor", "aria-hidden": "true" }, child: [{ tag: "path", attr: { fillRule: "evenodd", d: "M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z", clipRule: "evenodd" } }] })(e);
}
const On = le((e, r) => {
  const o = e.icon;
  return /* @__PURE__ */ n.jsx(
    et,
    {
      leftIcon: o && /* @__PURE__ */ n.jsx(o, { size: 16 }),
      rightIcon: /* @__PURE__ */ n.jsx(An, {}),
      size: "xs",
      variant: "subtle",
      disabled: e.isDisabled,
      onClick: e.onClick,
      ref: r,
      children: e.text
    }
  );
});
function Ln(e) {
  const { isSelected: r, ...o } = e.items.filter(
    (a) => a.isSelected
  )[0];
  return o ? /* @__PURE__ */ n.jsxs(S, { exitTransitionDuration: 0, disabled: e.isDisabled, children: [
    /* @__PURE__ */ n.jsx(S.Target, { children: /* @__PURE__ */ n.jsx(
      On,
      {
        text: o.text,
        icon: o.icon,
        isDisabled: o.isDisabled
      }
    ) }),
    /* @__PURE__ */ n.jsx(S.Dropdown, { children: e.items.map((a) => /* @__PURE__ */ n.jsx(In, { ...a }, a.text)) })
  ] }) : null;
}
function $(e, r) {
  F(() => (e._tiptapEditor.on("selectionUpdate", r), () => {
    e._tiptapEditor.off("selectionUpdate", r);
  }), [r, e._tiptapEditor]);
}
function G(e, r) {
  F(() => (e._tiptapEditor.on("update", r), () => {
    e._tiptapEditor.off("update", r);
  }), [r, e._tiptapEditor]);
}
const Fn = {
  1: lt,
  2: ct,
  3: st
}, Dn = (e) => e.type === "paragraph" || e.type === "heading" && "level" in e.props || e.type === "bulletListItem" ? !0 : e.type === "numberedListItem", Vn = (e) => {
  const [r, o] = k(
    e.editor.getTextCursorPosition().block
  ), a = H(() => {
    const c = [];
    return "paragraph" in e.editor.schema && c.push({
      onClick: () => {
        e.editor.focus(), e.editor.updateBlock(r, {
          type: "paragraph",
          props: {}
        });
      },
      text: "Paragraph",
      icon: je,
      isSelected: r.type === "paragraph"
    }), "heading" in e.editor.schema && "level" in e.editor.schema.heading.propSchema && c.push(
      ...["1", "2", "3"].map((l) => ({
        onClick: () => {
          e.editor.focus(), e.editor.updateBlock(r, {
            type: "heading",
            props: { level: l }
          });
        },
        text: "Heading " + l,
        icon: Fn[l],
        isSelected: r.type === "heading" && r.props.level === l
      }))
    ), "bulletListItem" in e.editor.schema && c.push({
      onClick: () => {
        e.editor.focus(), e.editor.updateBlock(r, {
          type: "bulletListItem",
          props: {}
        });
      },
      text: "Bullet List",
      icon: ft,
      isSelected: r.type === "bulletListItem"
    }), "numberedListItem" in e.editor.schema && c.push({
      onClick: () => {
        e.editor.focus(), e.editor.updateBlock(r, {
          type: "numberedListItem",
          props: {}
        });
      },
      text: "Numbered List",
      icon: ut,
      isSelected: r.type === "numberedListItem"
    }), c;
  }, [r, e.editor]);
  return G(e.editor, () => {
    o(e.editor.getTextCursorPosition().block);
  }), $(e.editor, () => {
    o(e.editor.getTextCursorPosition().block);
  }), Dn(r) ? /* @__PURE__ */ n.jsx(Ln, { items: a }) : null;
}, gt = (e) => {
  const { classes: r } = K({ root: {} })(void 0, {
    name: "Tooltip"
  });
  return /* @__PURE__ */ n.jsxs(Te, { spacing: 0, className: r.root, children: [
    /* @__PURE__ */ n.jsx(ae, { size: "sm", children: e.mainTooltip }),
    e.secondaryTooltip && /* @__PURE__ */ n.jsx(ae, { size: "xs", children: e.secondaryTooltip })
  ] });
}, L = le(
  (e, r) => {
    const o = e.icon;
    return /* @__PURE__ */ n.jsx(
      U,
      {
        content: /* @__PURE__ */ n.jsx(
          gt,
          {
            mainTooltip: e.mainTooltip,
            secondaryTooltip: e.secondaryTooltip
          }
        ),
        trigger: "mouseenter",
        children: e.children ? /* @__PURE__ */ n.jsxs(
          et,
          {
            onClick: e.onClick,
            "data-selected": e.isSelected ? "true" : void 0,
            "data-test": e.mainTooltip.slice(0, 1).toLowerCase() + e.mainTooltip.replace(/\s+/g, "").slice(1),
            size: "xs",
            disabled: e.isDisabled || !1,
            ref: r,
            children: [
              o && /* @__PURE__ */ n.jsx(o, {}),
              e.children
            ]
          }
        ) : /* @__PURE__ */ n.jsx(
          tt,
          {
            onClick: e.onClick,
            "data-selected": e.isSelected ? "true" : void 0,
            "data-test": e.mainTooltip.slice(0, 1).toLowerCase() + e.mainTooltip.replace(/\s+/g, "").slice(1),
            size: 30,
            disabled: e.isDisabled || !1,
            ref: r,
            children: o && /* @__PURE__ */ n.jsx(o, {})
          }
        )
      }
    );
  }
), Nn = () => typeof navigator < "u" && (/Mac/.test(navigator.platform) || /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent));
function _(e) {
  return Nn() ? e.replace("Mod", "âŒ˜") : e.replace("Mod", "Ctrl");
}
const Un = {
  bold: "Mod+B",
  italic: "Mod+I",
  underline: "Mod+U",
  strike: "Mod+Shift+X",
  code: ""
}, $n = {
  bold: Mn,
  italic: pn,
  underline: _n,
  strike: Hn,
  code: Cn
}, ie = (e) => {
  const [r, o] = k(
    e.toggledStyle in e.editor.getActiveStyles()
  );
  G(e.editor, () => {
    o(e.toggledStyle in e.editor.getActiveStyles());
  }), $(e.editor, () => {
    o(e.toggledStyle in e.editor.getActiveStyles());
  });
  const a = (c) => {
    e.editor.focus(), e.editor.toggleStyles({ [c]: !0 });
  };
  return /* @__PURE__ */ n.jsx(
    L,
    {
      onClick: () => a(e.toggledStyle),
      isSelected: r,
      mainTooltip: e.toggledStyle.slice(0, 1).toUpperCase() + e.toggledStyle.slice(1),
      secondaryTooltip: _(Un[e.toggledStyle]),
      icon: $n[e.toggledStyle]
    }
  );
}, Wn = {
  left: Sn,
  center: Tn,
  right: En,
  justify: jn
}, me = (e) => {
  const [r, o] = k(() => {
    const l = e.editor.getTextCursorPosition().block;
    if ("textAlignment" in l.props)
      return l.props.textAlignment;
  });
  G(e.editor, () => {
    const l = e.editor.getTextCursorPosition().block;
    "textAlignment" in l.props && o(l.props.textAlignment);
  }), $(e.editor, () => {
    const l = e.editor.getTextCursorPosition().block;
    "textAlignment" in l.props && o(l.props.textAlignment);
  });
  const a = H(() => {
    const l = e.editor.getSelection();
    if (l) {
      for (const d of l.blocks)
        if (!("textAlignment" in d.props))
          return !1;
    } else if (!("textAlignment" in e.editor.getTextCursorPosition().block.props))
      return !1;
    return !0;
  }, [e.editor]), c = B(
    (l) => {
      e.editor.focus();
      const d = e.editor.getSelection();
      if (d)
        for (const u of d.blocks)
          e.editor.updateBlock(u, {
            props: { textAlignment: l }
          });
      else {
        const u = e.editor.getTextCursorPosition().block;
        e.editor.updateBlock(u, {
          props: { textAlignment: l }
        });
      }
    },
    [e.editor]
  );
  return a ? /* @__PURE__ */ n.jsx(
    L,
    {
      onClick: () => c(e.textAlignment),
      isSelected: r === e.textAlignment,
      mainTooltip: e.textAlignment === "justify" ? "Justify Text" : "Align Text " + e.textAlignment.slice(0, 1).toUpperCase() + e.textAlignment.slice(1),
      icon: Wn[e.textAlignment]
    }
  ) : null;
}, ke = (e) => {
  const r = e.textColor || "default", o = e.backgroundColor || "default", a = e.size || 16;
  return /* @__PURE__ */ n.jsx(
    nt,
    {
      sx: (c) => ({
        backgroundColor: c.colors.backgroundColors[c.other.colors.indexOf(o)],
        border: "solid #D3D3D3 1px",
        borderRadius: (a * 0.25).toString() + "px",
        color: c.colors.textColors[c.other.colors.indexOf(r)],
        fontSize: (a * 0.75).toString() + "px",
        height: a.toString() + "px",
        lineHeight: a.toString() + "px",
        textAlign: "center",
        width: a.toString() + "px"
      }),
      children: "A"
    }
  );
}, ht = (e) => /* @__PURE__ */ n.jsxs(n.Fragment, { children: [
  /* @__PURE__ */ n.jsx(S.Label, { children: "Text" }),
  [
    "default",
    "gray",
    "brown",
    "red",
    "orange",
    "yellow",
    "green",
    "blue",
    "purple",
    "pink"
  ].map((r) => /* @__PURE__ */ n.jsx(
    S.Item,
    {
      onClick: () => {
        e.onClick && e.onClick(), e.setTextColor(r);
      },
      component: "div",
      "data-test": "text-color-" + r,
      icon: /* @__PURE__ */ n.jsx(ke, { textColor: r, size: e.iconSize }),
      rightSection: e.textColor === r ? /* @__PURE__ */ n.jsx(ye, { size: 16, style: { paddingLeft: "8px" } }) : /* @__PURE__ */ n.jsx("div", { style: { width: "24px", padding: "0" } }),
      children: r.charAt(0).toUpperCase() + r.slice(1)
    },
    "text-color-" + r
  )),
  /* @__PURE__ */ n.jsx(S.Label, { children: "Background" }),
  [
    "default",
    "gray",
    "brown",
    "red",
    "orange",
    "yellow",
    "green",
    "blue",
    "purple",
    "pink"
  ].map((r) => /* @__PURE__ */ n.jsx(
    S.Item,
    {
      onClick: () => {
        e.onClick && e.onClick(), e.setBackgroundColor(r);
      },
      component: "div",
      "data-test": "background-color-" + r,
      icon: /* @__PURE__ */ n.jsx(ke, { backgroundColor: r, size: e.iconSize }),
      rightSection: e.backgroundColor === r ? /* @__PURE__ */ n.jsx(ye, { size: 16, style: { paddingLeft: "8px" } }) : /* @__PURE__ */ n.jsx("div", { style: { width: "24px", padding: "0" } }),
      children: r.charAt(0).toUpperCase() + r.slice(1)
    },
    "background-color-" + r
  ))
] }), Yn = (e) => {
  const [r, o] = k(
    e.editor.getActiveStyles().textColor || "default"
  ), [a, c] = k(
    e.editor.getActiveStyles().backgroundColor || "default"
  );
  G(e.editor, () => {
    o(e.editor.getActiveStyles().textColor || "default"), c(
      e.editor.getActiveStyles().backgroundColor || "default"
    );
  }), $(e.editor, () => {
    o(e.editor.getActiveStyles().textColor || "default"), c(
      e.editor.getActiveStyles().backgroundColor || "default"
    );
  });
  const l = B(
    (u) => {
      e.editor.focus(), u === "default" ? e.editor.removeStyles({ textColor: u }) : e.editor.addStyles({ textColor: u });
    },
    [e.editor]
  ), d = B(
    (u) => {
      e.editor.focus(), u === "default" ? e.editor.removeStyles({ backgroundColor: u }) : e.editor.addStyles({ backgroundColor: u });
    },
    [e.editor]
  );
  return /* @__PURE__ */ n.jsxs(S, { children: [
    /* @__PURE__ */ n.jsx(S.Target, { children: /* @__PURE__ */ n.jsx(
      L,
      {
        mainTooltip: "Colors",
        icon: () => /* @__PURE__ */ n.jsx(
          ke,
          {
            textColor: r,
            backgroundColor: a,
            size: 20
          }
        )
      }
    ) }),
    /* @__PURE__ */ n.jsx(S.Dropdown, { children: /* @__PURE__ */ n.jsx(
      ht,
      {
        textColor: r,
        setTextColor: l,
        backgroundColor: a,
        setBackgroundColor: d
      }
    ) })
  ] });
}, qn = (e) => {
  const [r, o] = k();
  G(e.editor, () => {
    o(e.editor.canNestBlock());
  }), $(e.editor, () => {
    o(e.editor.canNestBlock());
  });
  const a = B(() => {
    e.editor.focus(), e.editor.nestBlock();
  }, [e.editor]);
  return /* @__PURE__ */ n.jsx(
    L,
    {
      onClick: a,
      isDisabled: !r,
      mainTooltip: "Nest Block",
      secondaryTooltip: _("Tab"),
      icon: wn
    }
  );
}, Kn = (e) => {
  const [r, o] = k();
  G(e.editor, () => {
    o(e.editor.canUnnestBlock());
  }), $(e.editor, () => {
    o(e.editor.canUnnestBlock());
  });
  const a = B(() => {
    e.editor.focus(), e.editor.unnestBlock();
  }, [e]);
  return /* @__PURE__ */ n.jsx(
    L,
    {
      onClick: a,
      isDisabled: !r,
      mainTooltip: "Unnest Block",
      secondaryTooltip: _("Shift+Tab"),
      icon: Rn
    }
  );
};
function Gn(e) {
  const r = e.icon;
  return /* @__PURE__ */ n.jsx(
    U,
    {
      content: /* @__PURE__ */ n.jsx(
        gt,
        {
          mainTooltip: e.mainTooltip,
          secondaryTooltip: e.secondaryTooltip
        }
      ),
      placement: "left",
      children: /* @__PURE__ */ n.jsx(Qt, { children: /* @__PURE__ */ n.jsx(r, { size: 16 }) })
    }
  );
}
function Jn(e) {
  function r(o) {
    o.key === "Enter" && (o.preventDefault(), e.onSubmit());
  }
  return /* @__PURE__ */ n.jsx(
    en,
    {
      autoFocus: e.autofocus,
      size: "xs",
      value: e.value,
      onChange: (o) => e.onChange(o.currentTarget.value),
      onKeyDown: r,
      placeholder: e.placeholder
    }
  );
}
function Qe(e) {
  return /* @__PURE__ */ n.jsxs(Ce, { children: [
    /* @__PURE__ */ n.jsx(
      Gn,
      {
        icon: e.icon,
        mainTooltip: e.mainIconTooltip,
        secondaryTooltip: e.secondaryIconTooltip
      }
    ),
    /* @__PURE__ */ n.jsx(
      Jn,
      {
        autofocus: e.autofocus,
        placeholder: e.placeholder,
        value: e.value,
        onChange: e.onChange,
        onSubmit: e.onSubmit
      }
    )
  ] });
}
const vt = le(({ url: e, text: r, update: o, className: a, ...c }, l) => {
  const { classes: d } = K({ root: {} })(void 0, {
    name: "EditHyperlinkMenu"
  }), [u, g] = k(e), [T, h] = k(r);
  return /* @__PURE__ */ n.jsxs(
    Te,
    {
      ...c,
      className: a ? `${d.root} ${a}` : d.root,
      ref: l,
      children: [
        /* @__PURE__ */ n.jsx(
          Qe,
          {
            icon: dt,
            mainIconTooltip: "Edit URL",
            autofocus: !0,
            placeholder: "Edit URL",
            value: u,
            onChange: (j) => g(j),
            onSubmit: () => o(u, T)
          }
        ),
        /* @__PURE__ */ n.jsx(
          Qe,
          {
            icon: je,
            mainIconTooltip: "Edit Title",
            placeholder: "Edit Title",
            value: T,
            onChange: (j) => h(j),
            onSubmit: () => o(e, T)
          }
        )
      ]
    }
  );
}), Xn = (e) => {
  const [r, o] = k(), [a, c] = k(!1), l = I(null), d = I(null), u = B(() => {
    o(
      /* @__PURE__ */ n.jsx(
        vt,
        {
          url: e.activeHyperlinkUrl,
          text: e.activeHyperlinkText,
          update: (T, h) => {
            e.setHyperlink(T, h), c(!1);
          },
          ref: d
        },
        Math.random() + ""
      )
    );
  }, [e]), g = B(
    (T) => {
      var h, j;
      if ((h = l.current) != null && h.contains(T.target)) {
        c(!a);
        return;
      }
      (j = d.current) != null && j.contains(T.target) || c(!1);
    },
    [a]
  );
  return F(() => (document.body.addEventListener("click", g), () => document.body.removeEventListener("click", g)), [g]), /* @__PURE__ */ n.jsx(
    U,
    {
      content: r,
      onShow: u,
      interactive: !0,
      maxWidth: 500,
      visible: a,
      children: /* @__PURE__ */ n.jsx(
        L,
        {
          isSelected: e.isSelected,
          mainTooltip: e.mainTooltip,
          secondaryTooltip: e.secondaryTooltip,
          icon: e.icon,
          ref: l
        }
      )
    }
  );
}, Zn = (e) => {
  const [r, o] = k(
    e.editor.getSelectedLinkUrl() || ""
  ), [a, c] = k(
    e.editor.getSelectedText() || ""
  );
  $(e.editor, () => {
    c(e.editor.getSelectedText() || ""), o(e.editor.getSelectedLinkUrl() || "");
  });
  const l = B(
    (d, u) => {
      e.editor.focus(), e.editor.createLink(d, u);
    },
    [e.editor]
  );
  return /* @__PURE__ */ n.jsx(
    Xn,
    {
      isSelected: !!r,
      mainTooltip: "Link",
      secondaryTooltip: _("Mod+K"),
      icon: dt,
      hyperlinkIsActive: !!r,
      activeHyperlinkUrl: r,
      activeHyperlinkText: a,
      setHyperlink: l
    }
  );
}, Qn = (e) => /* @__PURE__ */ n.jsxs(ot, { children: [
  /* @__PURE__ */ n.jsx(Vn, { ...e }),
  /* @__PURE__ */ n.jsx(ie, { editor: e.editor, toggledStyle: "bold" }),
  /* @__PURE__ */ n.jsx(ie, { editor: e.editor, toggledStyle: "italic" }),
  /* @__PURE__ */ n.jsx(ie, { editor: e.editor, toggledStyle: "underline" }),
  /* @__PURE__ */ n.jsx(ie, { editor: e.editor, toggledStyle: "strike" }),
  /* @__PURE__ */ n.jsx(me, { editor: e.editor, textAlignment: "left" }),
  /* @__PURE__ */ n.jsx(me, { editor: e.editor, textAlignment: "center" }),
  /* @__PURE__ */ n.jsx(me, { editor: e.editor, textAlignment: "right" }),
  /* @__PURE__ */ n.jsx(Yn, { editor: e.editor }),
  /* @__PURE__ */ n.jsx(qn, { editor: e.editor }),
  /* @__PURE__ */ n.jsx(Kn, { editor: e.editor }),
  /* @__PURE__ */ n.jsx(Zn, { editor: e.editor })
] }), er = (e) => {
  const [r, o] = k(!1), a = I();
  F(() => e.editor.formattingToolbar.onUpdate((d) => {
    o(d.show), a.current = d.referencePos;
  }), [e.editor]);
  const c = H(
    () => {
      if (a)
        return () => a.current;
    },
    [a.current]
    // eslint-disable-line
  ), l = H(() => {
    const d = e.formattingToolbar || Qn;
    return /* @__PURE__ */ n.jsx(d, { editor: e.editor });
  }, [e.editor, e.formattingToolbar]);
  return /* @__PURE__ */ n.jsx(
    U,
    {
      appendTo: e.editor.domElement.parentElement,
      content: l,
      getReferenceClientRect: c,
      interactive: !0,
      visible: r,
      animation: "fade",
      placement: "top-start",
      sticky: !0,
      plugins: tr
    }
  );
}, tr = [cn], nr = (e) => {
  const [r, o] = k(!1), a = I(null);
  return r ? /* @__PURE__ */ n.jsx(
    vt,
    {
      url: e.url,
      text: e.text,
      update: (c, l) => e.editHyperlink(c, l),
      onBlur: (c) => setTimeout(() => {
        var l;
        (l = a.current) != null && l.contains(c.relatedTarget) || o(!1);
      }, 500),
      ref: a
    }
  ) : /* @__PURE__ */ n.jsxs(
    ot,
    {
      onMouseEnter: e.stopHideTimer,
      onMouseLeave: e.startHideTimer,
      children: [
        /* @__PURE__ */ n.jsx(
          L,
          {
            mainTooltip: "Edit",
            isSelected: !1,
            onClick: () => o(!0),
            children: "Edit Link"
          }
        ),
        /* @__PURE__ */ n.jsx(
          L,
          {
            mainTooltip: "Open in new tab",
            isSelected: !1,
            onClick: () => {
              window.open(e.url, "_blank");
            },
            icon: Bn
          }
        ),
        /* @__PURE__ */ n.jsx(
          L,
          {
            mainTooltip: "Remove link",
            isSelected: !1,
            onClick: e.deleteHyperlink,
            icon: zn
          }
        )
      ]
    }
  );
}, rr = (e) => {
  const [r, o] = k(!1), [a, c] = k(), [l, d] = k(), u = I();
  F(() => e.editor.hyperlinkToolbar.on(
    "update",
    (h) => {
      o(h.show), c(h.url), d(h.text), u.current = h.referencePos;
    }
  ), [e.editor]);
  const g = H(
    () => {
      if (u.current)
        return () => u.current;
    },
    [u.current]
    // eslint-disable-line
  ), T = H(() => {
    if (!a || !l)
      return null;
    const h = e.hyperlinkToolbar || nr;
    return /* @__PURE__ */ n.jsx(
      h,
      {
        url: a,
        text: l,
        editHyperlink: e.editor.hyperlinkToolbar.editHyperlink,
        deleteHyperlink: e.editor.hyperlinkToolbar.deleteHyperlink,
        startHideTimer: e.editor.hyperlinkToolbar.startHideTimer,
        stopHideTimer: e.editor.hyperlinkToolbar.stopHideTimer
      }
    );
  }, [e.hyperlinkToolbar, e.editor, l, a]);
  return /* @__PURE__ */ n.jsx(
    U,
    {
      appendTo: e.editor.domElement.parentElement,
      content: T,
      getReferenceClientRect: g,
      interactive: !0,
      visible: r,
      animation: "fade",
      placement: "top-start"
    }
  );
}, or = (e) => /* @__PURE__ */ n.jsx(Ce, { spacing: 0, children: e.children });
function ir(e) {
  return C({ tag: "svg", attr: { t: "1551322312294", style: "", viewBox: "0 0 1024 1024", version: "1.1" }, child: [{ tag: "defs", attr: {}, child: [] }, { tag: "path", attr: { d: "M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z" } }, { tag: "path", attr: { d: "M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z" } }] })(e);
}
const mt = (e) => /* @__PURE__ */ n.jsx(tt, { size: 24, children: e.children }), ar = (e) => /* @__PURE__ */ n.jsx(mt, { children: /* @__PURE__ */ n.jsx(
  ir,
  {
    size: 24,
    onClick: e.addBlock,
    "data-test": "dragHandleAdd"
  }
) });
function lr(e) {
  return C({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0V0z" } }, { tag: "path", attr: { d: "M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" } }] })(e);
}
const cr = (e) => {
  const { classes: r } = K({ root: {} })(void 0, {
    name: "DragHandleMenu"
  });
  return /* @__PURE__ */ n.jsx(S.Dropdown, { className: r.root, children: e.children });
}, xt = (e) => {
  const { children: r, ...o } = e;
  return /* @__PURE__ */ n.jsx(S.Item, { ...o, children: r });
}, sr = (e) => /* @__PURE__ */ n.jsx(
  xt,
  {
    onClick: () => e.editor.removeBlocks([e.block]),
    children: e.children
  }
), dr = (e) => {
  const [r, o] = k(!1), a = I(), c = B(() => {
    a.current && clearTimeout(a.current), a.current = setTimeout(() => {
      o(!1);
    }, 250);
  }, []), l = B(() => {
    a.current && clearTimeout(a.current), o(!0);
  }, []);
  return !("textColor" in e.block.props) || !("backgroundColor" in e.block.props) ? null : /* @__PURE__ */ n.jsx(
    xt,
    {
      onMouseLeave: c,
      onMouseOver: l,
      children: /* @__PURE__ */ n.jsxs(S, { opened: r, position: "right", children: [
        /* @__PURE__ */ n.jsx(S.Target, { children: /* @__PURE__ */ n.jsxs("div", { style: { display: "flex", alignItems: "center" }, children: [
          /* @__PURE__ */ n.jsx("div", { style: { flex: 1 }, children: e.children }),
          /* @__PURE__ */ n.jsx(nt, { style: { display: "flex", alignItems: "center" }, children: /* @__PURE__ */ n.jsx(Pn, { size: 15 }) })
        ] }) }),
        /* @__PURE__ */ n.jsx(
          S.Dropdown,
          {
            onMouseLeave: c,
            onMouseOver: l,
            style: { marginLeft: "5px" },
            children: /* @__PURE__ */ n.jsx(
              ht,
              {
                iconSize: 18,
                textColor: e.block.props.textColor || "default",
                backgroundColor: e.block.props.backgroundColor || "default",
                setTextColor: (d) => e.editor.updateBlock(e.block, {
                  props: { textColor: d }
                }),
                setBackgroundColor: (d) => e.editor.updateBlock(e.block, {
                  props: { backgroundColor: d }
                })
              }
            )
          }
        )
      ] })
    }
  );
}, ur = (e) => /* @__PURE__ */ n.jsxs(cr, { children: [
  /* @__PURE__ */ n.jsx(sr, { ...e, children: "Delete" }),
  /* @__PURE__ */ n.jsx(dr, { ...e, children: "Colors" })
] }), fr = (e) => {
  const r = e.dragHandleMenu || ur;
  return /* @__PURE__ */ n.jsxs(
    S,
    {
      trigger: "click",
      onOpen: e.freezeMenu,
      onClose: e.unfreezeMenu,
      width: 100,
      position: "left",
      children: [
        /* @__PURE__ */ n.jsx(S.Target, { children: /* @__PURE__ */ n.jsx(
          "div",
          {
            draggable: "true",
            onDragStart: e.blockDragStart,
            onDragEnd: e.blockDragEnd,
            children: /* @__PURE__ */ n.jsx(mt, { children: /* @__PURE__ */ n.jsx(lr, { size: 24, "data-test": "dragHandle" }) })
          }
        ) }),
        /* @__PURE__ */ n.jsx(r, { editor: e.editor, block: e.block })
      ]
    }
  );
}, gr = (e) => /* @__PURE__ */ n.jsxs(or, { children: [
  /* @__PURE__ */ n.jsx(ar, { ...e }),
  /* @__PURE__ */ n.jsx(fr, { ...e })
] }), hr = (e) => {
  const [r, o] = k(!1), [a, c] = k(), l = I();
  F(() => e.editor.sideMenu.onUpdate((g) => {
    o(g.show), c(g.block), l.current = g.referencePos;
  }), [e.editor]);
  const d = H(
    () => {
      if (l.current)
        return () => l.current;
    },
    [l.current]
    // eslint-disable-line
  ), u = H(() => {
    if (!a)
      return null;
    const g = e.sideMenu || gr;
    return /* @__PURE__ */ n.jsx(
      g,
      {
        block: a,
        editor: e.editor,
        blockDragStart: e.editor.sideMenu.blockDragStart,
        blockDragEnd: e.editor.sideMenu.blockDragEnd,
        addBlock: e.editor.sideMenu.addBlock,
        freezeMenu: e.editor.sideMenu.freezeMenu,
        unfreezeMenu: e.editor.sideMenu.unfreezeMenu
      }
    );
  }, [a, e.editor, e.sideMenu]);
  return /* @__PURE__ */ n.jsx(
    U,
    {
      appendTo: e.editor.domElement.parentElement,
      content: u,
      getReferenceClientRect: d,
      interactive: !0,
      visible: r,
      animation: "fade",
      offset: vr,
      placement: "left",
      popperOptions: mr
    }
  );
}, vr = [0, 0], mr = {
  modifiers: [
    {
      name: "flip",
      options: {
        fallbackPlacements: []
      }
    },
    {
      name: "preventOverflow",
      options: {
        mainAxis: !1,
        altAxis: !1
      }
    }
  ]
}, xr = 5;
function br(e) {
  const r = I(null), { classes: o } = K({ root: {} })(void 0, {
    name: "SuggestionListItem"
  });
  function a() {
    var u;
    const l = e.isSelected, d = (u = r.current) == null ? void 0 : u.matches(":hover");
    return l || d;
  }
  function c() {
    var l, d;
    a() ? (l = r.current) == null || l.setAttribute("data-hovered", "true") : (d = r.current) == null || d.removeAttribute("data-hovered");
  }
  return F(() => {
    c(), a() && r.current && r.current.getBoundingClientRect().left > xr && r.current.scrollIntoView({
      behavior: "smooth",
      block: "nearest"
    });
  }), /* @__PURE__ */ n.jsx(
    S.Item,
    {
      className: o.root,
      icon: e.icon,
      onClick: e.set,
      closeMenuOnClick: !1,
      onMouseLeave: () => {
        setTimeout(() => {
          c();
        }, 1);
      },
      ref: r,
      rightSection: e.shortcut && /* @__PURE__ */ n.jsx(tn, { size: "xs", children: e.shortcut }),
      children: /* @__PURE__ */ n.jsxs(Te, { children: [
        /* @__PURE__ */ n.jsx(ae, { size: 14, weight: 500, children: e.name }),
        /* @__PURE__ */ n.jsx(ae, { size: 10, children: e.hint })
      ] })
    }
  );
}
function yr(e) {
  const { classes: r } = K({ root: {} })(void 0, {
    name: "SlashMenu"
  }), o = [];
  let a = 0;
  const c = Ge.groupBy(e.filteredItems, (l) => l.group);
  return Ge.forEach(c, (l) => {
    o.push(
      /* @__PURE__ */ n.jsx(S.Label, { children: l[0].group }, l[0].group)
    );
    for (const d of l)
      o.push(
        /* @__PURE__ */ n.jsx(
          br,
          {
            name: d.name,
            icon: d.icon,
            hint: d.hint,
            shortcut: d.shortcut,
            isSelected: e.keyboardHoveredItemIndex === a,
            set: () => e.itemCallback(d)
          },
          d.name
        )
      ), a++;
  }), /* @__PURE__ */ n.jsx(
    S,
    {
      defaultOpened: !0,
      trigger: "hover",
      closeDelay: 1e7,
      children: /* @__PURE__ */ n.jsx(
        S.Dropdown,
        {
          onMouseDown: (l) => l.preventDefault(),
          className: r.root,
          children: o.length > 0 ? o : /* @__PURE__ */ n.jsx(S.Item, { children: "No match found" })
        }
      )
    }
  );
}
const kr = (e) => {
  const [r, o] = k(!1), [a, c] = k(), [l, d] = k(), u = I();
  F(() => e.editor.slashMenu.onUpdate((h) => {
    o(h.show), c(h.filteredItems), d(h.keyboardHoveredItemIndex), u.current = h.referencePos;
  }), [e.editor]);
  const g = H(
    () => {
      if (u.current)
        return () => u.current;
    },
    [u.current]
    // eslint-disable-line
  ), T = H(() => {
    if (!a || l === void 0)
      return null;
    const h = e.slashMenu || yr;
    return /* @__PURE__ */ n.jsx(
      h,
      {
        filteredItems: a,
        itemCallback: (j) => e.editor.slashMenu.itemCallback(j),
        keyboardHoveredItemIndex: l
      }
    );
  }, [
    a,
    l,
    e.editor.slashMenu,
    e.slashMenu
  ]);
  return /* @__PURE__ */ n.jsx(
    U,
    {
      appendTo: e.editor.domElement.parentElement,
      content: T,
      getReferenceClientRect: g,
      interactive: !0,
      visible: r,
      animation: "fade",
      placement: "bottom-start"
    }
  );
};
function Hr(e) {
  var c;
  const { editor: r, children: o, ...a } = e;
  return /* @__PURE__ */ n.jsx(nn, { theme: bn(), children: /* @__PURE__ */ n.jsx(rn, { editor: (c = e.editor) == null ? void 0 : c._tiptapEditor, ...a, children: e.children || /* @__PURE__ */ n.jsxs(n.Fragment, { children: [
    /* @__PURE__ */ n.jsx(er, { editor: e.editor }),
    /* @__PURE__ */ n.jsx(rr, { editor: e.editor }),
    /* @__PURE__ */ n.jsx(kr, { editor: e.editor }),
    /* @__PURE__ */ n.jsx(hr, { editor: e.editor })
  ] }) }) });
}
const Cr = {
  Heading: {
    group: "Headings",
    icon: /* @__PURE__ */ n.jsx(lt, { size: 18 }),
    hint: "Used for a top-level heading",
    shortcut: _("Mod-Alt-1")
  },
  "Heading 2": {
    group: "Headings",
    icon: /* @__PURE__ */ n.jsx(ct, { size: 18 }),
    hint: "Used for key sections",
    shortcut: _("Mod-Alt-2")
  },
  "Heading 3": {
    group: "Headings",
    icon: /* @__PURE__ */ n.jsx(st, { size: 18 }),
    hint: "Used for subsections and group headings",
    shortcut: _("Mod-Alt-3")
  },
  "Numbered List": {
    group: "Basic blocks",
    icon: /* @__PURE__ */ n.jsx(ut, { size: 18 }),
    hint: "Used to display a numbered list",
    shortcut: _("Mod-Alt-7")
  },
  "Bullet List": {
    group: "Basic blocks",
    icon: /* @__PURE__ */ n.jsx(ft, { size: 18 }),
    hint: "Used to display an unordered list",
    shortcut: _("Mod-Alt-9")
  },
  Paragraph: {
    group: "Basic blocks",
    icon: /* @__PURE__ */ n.jsx(je, { size: 18 }),
    hint: "Used for the body of your document",
    shortcut: _("Mod-Alt-0")
  }
};
function Tr(e = rt) {
  return sn(e).map((o) => ({
    ...o,
    ...Cr[o.name]
  }));
}
const jr = (e) => new dn({
  slashMenuItems: Tr(
    e.blockSchema || rt
  ),
  ...e
}), _r = (e = {}, r = []) => {
  const o = I();
  return H(() => (o.current && o.current._tiptapEditor.destroy(), o.current = jr(e), o.current), r);
};
function Sr() {
  const [, e] = k(0);
  return () => e((r) => r + 1);
}
const Br = (e) => {
  const r = Sr();
  F(() => {
    const o = () => {
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          r();
        });
      });
    };
    return e.on("transaction", o), () => {
      e.off("transaction", o);
    };
  }, [e]);
}, Ir = (e) => /* @__PURE__ */ n.jsx(
  on,
  {
    ...e,
    className: `${e.className ? e.className + " " : ""}${xe.inlineContent}`
  }
);
function Ar(e) {
  return {
    node: un({
      name: e.type,
      content: e.containsInlineContent ? "inline*" : "",
      selectable: e.containsInlineContent,
      addOptions() {
        return {
          editor: void 0
        };
      },
      addAttributes() {
        return fn(e);
      },
      parseHTML() {
        return gn(e);
      },
      renderHTML({ HTMLAttributes: o }) {
        return hn(e, o);
      },
      addNodeView() {
        return an((a) => {
          const c = e.render, l = {};
          for (const [p, D] of Object.entries(a.node.attrs))
            p in e.propSchema && (l[vn(p)] = D);
          const d = this.options.editor, u = typeof a.getPos == "function" ? a.getPos() : void 0, h = d._tiptapEditor.state.doc.resolve(u).node().attrs.id, j = d.getBlock(h);
          if (j.type !== e.type)
            throw new Error("Block type does not match");
          return /* @__PURE__ */ n.jsx(
            ln,
            {
              className: xe.blockContent,
              "data-content-type": e.type,
              ...l,
              children: /* @__PURE__ */ n.jsx(c, { block: j, editor: d })
            }
          );
        }, {
          className: xe.reactNodeViewRenderer
        });
      }
    }),
    propSchema: e.propSchema
  };
}
export {
  ar as AddBlockButton,
  dr as BlockColorsButton,
  Hr as BlockNoteView,
  Vn as BlockTypeDropdown,
  Yn as ColorStyleButton,
  Zn as CreateLinkButton,
  ur as DefaultDragHandleMenu,
  Qn as DefaultFormattingToolbar,
  gr as DefaultSideMenu,
  yr as DefaultSlashMenu,
  fr as DragHandle,
  cr as DragHandleMenu,
  xt as DragHandleMenuItem,
  er as FormattingToolbarPositioner,
  rr as HyperlinkToolbarPositioner,
  Ir as InlineContent,
  qn as NestBlockButton,
  sr as RemoveBlockButton,
  or as SideMenu,
  mt as SideMenuButton,
  hr as SideMenuPositioner,
  br as SlashMenuItem,
  kr as SlashMenuPositioner,
  me as TextAlignButton,
  ie as ToggledStyleButton,
  ot as Toolbar,
  L as ToolbarButton,
  Ln as ToolbarDropdown,
  Kn as UnnestBlockButton,
  Ar as createReactBlockSpec,
  Tr as getDefaultReactSlashMenuItems,
  _r as useBlockNote,
  G as useEditorContentChange,
  Br as useEditorForceUpdate,
  $ as useEditorSelectionChange
};
//# sourceMappingURL=blocknote-react.js.map
